// Copyright (c) 2016 IBM Corporation.

// Test syntactic variable substitution

enum Expr
    | Let(Expr, [Expr] -> Expr)
    | Str(String)
    | allows-variable

func EvalExpr(Expr) -> String
rule EvalExpr(Let(#expr1, [x] -> #expr2(x))) → EvalExpr(#expr2(#expr1))
rule EvalExpr(Str(#)) → #

func Tests -> String
rule Tests → EvalExpr(
  Let(Str("val1"), [v] -> Let(Str("val2"), [v2] -> v2 as Expr)))
